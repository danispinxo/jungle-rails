<section class="admin-products-index">

  <header class="page-header">
    <h1>Admin &raquo; All Categories</h1>
  </header>

  <div class="well">
    <%= link_to '+ New Category', [:new, :admin, :category], class: 'btn btn-info' %>
  </div>

  <div class="panel panel-default products">

    <table class="table table-bordered">
      <thead class="thead-dark">
        <tr>
          <th scope="col">Category ID</th>
          <th scope="col">Name</th>
          <th scope="col">Kinds of Products</th>
          <th scope="col">Total Inventory</th>
        </tr>
      </thead>
      <tbody>
        <% @categories.each do |category| %>
          <% id = category.id.to_s %>
          <tr>
          <th scope="row"><%= id %></th>
          <td><%= category.name %></td>
          <td><%= Product.where(category_id: id).count %></td>
          <td><%= Product.where(category_id: id).sum(:quantity) %></td>
          </tr>
        <% end %>
      </tbody>
    </table>

  </div>

</section>